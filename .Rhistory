load("C:/Users/Eddie/Google Drive/Academics/Big Data/2/BenJerry/hw1/hw1/benjerry_start.R")
x$tvcable <- benjer$tv_items>1
(benjer = read.csv("BenAndJerry.csv"))
BenAndJerry <- read.csv("C:/Users/Eddie/Google Drive/Academics/Big Data/2/BenJerry/hw1/hw1/BenAndJerry.csv", header=FALSE)
View(BenAndJerry)
benjer = BenAndJerry
(benjer = read.csv("BenAndJerry.csv"))
#names(benjer)
##names(benjer)
setwd(C:/Users/Eddie/Google Drive/Academics/Big Data/2/BenJerry/hw1/hw1)
setwd(C:Users/Eddie/Google Drive/Academics/Big Data/2/BenJerry/hw1/hw1)
setwd(C://Users/Eddie/Google Drive/Academics/Big Data/2/BenJerry/hw1/hw1)
setwd("C:/Users/Eddie/Google Drive/Academics/Big Data/2/BenJerry/hw1/hw1")
fit <- glm(y~., data=xy)
source("fdr.R")
#### Purchases of Ben and Jerry's Ice Cream
(benjer = read.csv("BenAndJerry.csv"))
## explore a bit
names(benjer)
## create a new variable for price per unit
priceper1 = (benjer$price_paid_deal + benjer$price_paid_non_deal)/benjer$quantity
y <- log(1+priceper1)
## grab some covariates of interest
## we'll create a properly formatted data.frame
x <- benjer[,c("flavor_descr","size1_descr",
"household_income","household_size")]
## relevel 'flavor' to have baseline of vanilla relevlling flavor discription to serve Vanilla as base
x$flavor_descr <- relevel(x$flavor_descr,"VAN")
## coupon usage adding factor/categorical attributes to logical values
x$usecoup = factor(benjer$coupon_value>0)
x$couponper1 <- benjer$coupon_value/benjer$quantity
## organize some demographics converting from int to level and labeling
x$region <- factor(benjer$region,
levels=1:4, labels=c("East","Central","South","West"))
##converting from int to level and labeling
x$married <- factor(benjer$marital_status==1)
x$race <- factor(benjer$race,
levels=1:4,labels=c("white","black","asian","other"))
x$hispanic_origin <- benjer$hispanic_origin==1
x$microwave <- benjer$kitchen_appliances %in% c(1,4,5,7)
x$dishwasher <- benjer$kitchen_appliances %in% c(2,4,6,7)
x$sfh <- benjer$type_of_residence==1
x$internet <- benjer$household_internet_connection==1
x$tvcable <- benjer$tv_items>1
## combine x and y, just to follow my recommended `way to use glm'
## cbind is `column bind'.  It takes two dataframes and makes one.
xy <- cbind(x,y)
## fit the regression
fit <- glm(y~., data=xy)
## grab the non-intercept p-values from a glm
## -1 to drop the intercept, 4 is 4th column
pvals <- summary(fit)$coef[-1,4]
## source the fdr_cut function
source("fdr.R")
fit <- glm(y~., data=xy)
pvals <- summary(fit)$coef[-1,4]
summary(benjer$percentage_spent_on_BJ)
(benjer = read.csv("BenAndJerry.csv"))
names(benjer)
priceper1 = (benjer$price_paid_deal + benjer$price_paid_non_deal)/benjer$quantity
y <- log(1+priceper1)
x <- benjer[,c("flavor_descr","size1_descr",
"household_income","household_size")]
x$flavor_descr <- relevel(x$flavor_descr,"VAN")
fit <- glm(y~., data=xy)
fit
fit <- glm(y~., data=xy)
plot(priceper1,household_income )
plot(priceper1, household_income)
qplot(xy$married,xlab='Married?',ylab='Count') + bar_graph_theme + scale_y_continuous(expand = c(0,0))
class(x$internet)
class(benjer$kitchen_appliances)
priceper1
household_income
xy
fit <- glm(y~., data=xy)
household_income
benjer$household_income
plot(priceper1 ~ benjer$household_income)
hist(benjer$household_income)
hist(benjer$household_income)
hist(benjer$household_composition)
head(x)
x$flavor_descr
class(benjer$coupon_value)
class(x$usecoup)
x$usecoup = factor(benjer$coupon_value>0)
class(x$usecoup)
hist(benjer$race)
hist(benjer$region)
hist(pvals)
help(hist)
hist(benjer$region, breaks = 10)
hist(benjer$region, breaks = 8)
help(hist)
hist(pvals)
hist(pvals, breaks = 10)
hist(pvals, breaks = 8)
hist(pvals, 10)
hist(pvalasdfs, 10)
hist(pvals, .5)
hist(pvals, breaks = 8)
hist(pvals, breaks = 5)
hist(pvals, breaks = 6)
hist(pvals, breaks = 8)
hist(pvals, breaks = 7)
hist(pvals, breaks = 10)
hist(pvals, breaks = 20)
